{
[$2%0=$[^2/^]?~[3*1+]?]collatz:
[n:0s:[n;1=~][n;collatz;!n:s;1+s:]#s;]steps:

1
[$1000000<][
    $
    $print;!" = "print;!
    steps;!
    println;!

    1+
]#
}

42